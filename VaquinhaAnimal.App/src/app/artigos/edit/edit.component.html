<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="pacman" [fullScreen]="true">
    <p style="color: white"> Carregando... </p>
</ngx-spinner>

<main class="main">
    <!-- section start-->
    <section class="section" style="text-align: center; padding-top: 100px;">
        <div class="container">
            <div class="row margin-bottom">
                <div class="col-12">
                    <h2 class="heading__title"><span>Edite</span> <span> seu artigo</span></h2>
                </div>
            </div>
            <!-- FORM START HERE-->
            <section class="section contacts no-padding-top no-padding-bottom">
                <div class="contacts-wrapper">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-xl-10">
                                <form class="form message-form" [formGroup]="artigoForm" autocomplete="on">
                                    <!-- INÍCIO DO FORMULÁRIO -->
                                    <h6 class="form__title">Preencha com todas as informações</h6><span class="form__text">* campos obrigatórios</span>
                                    
                                    <!-- LINHA 1 -->
                                    <div class="row" style="margin-top: 20px;">
                                        <div class="col-lg-8">
                                            <input class="form__field" style="margin-bottom: 0;" formControlName="titulo" placeholder="Título *" required="required" />
                                        </div>
                                        
                                        <div class="col-lg-4">
                                            <input class="form__field" style="margin-bottom: 0;" formControlName="escrito_por" placeholder="Escrito Por *" required="required" />
                                        </div>
                                    </div>
                                    
                                    <!-- LINHA 2 -->
                                    <div class="row" style="margin-top: 20px;">
                                        <div class="col-lg-12">
                                            <label>RESUMO</label>
                                            <textarea cols="40" rows="50" maxlength="1500" class="form__field" formControlName="resumo"></textarea>
                                        </div>
                                    </div>
                                    
                                    <!-- LINHA 3 -->
                                    <div class="row" style="margin-top: 20px;">
                                        <div class="col-lg-12">
                                            <label>HTML</label>
                                            <textarea cols="40" rows="50" maxlength="8000" class="form__field" formControlName="html"></textarea>
                                        </div>
                                    </div>
                                    
                                    <!-- LINHA 4 IMAGEM -->
                                    <div class="row" style="margin-top: 60px;">
                                        <div class="col-md-12">
                                            <h5>Capa Atual</h5>
                                            <div>
                                                <div *ngIf="!imagemPreview" class="form-group">
                                                    <img [src]="imagemOriginalSrc" style="width: 100%"/>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-8">
                                            <div class="row" style="margin-top: 60px;">
                                                <!-- UPLOAD IMAGEM -->
                                                <div class="col-lg-12">
                                                    <h6 class="form__title" style="text-align: left;">Alterar foto de capa</h6>
                                                    
                                                    <div class="custom-file">
                                                        <input type="file" accept="image/jpeg,image/png,image/jpg" class="custom-file-input" (change)="fileChangeEvent($event)">
                                                        <label data-browse="Procurar" style="width: 400px" class="custom-file-label"></label>
                                                        
                                                        <div *ngIf='imagemNome' style="text-align: left;"><br><strong>Arquivo selecionado:</strong> {{ imagemNome }} <br></div>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- BOTÕES -->
                                    <div class="col-12" style="text-align: center; margin-top: 70px;">
                                        <button class="form__submit" (click)="editarArtigo()" [disabled]="!artigoForm.valid" [ngStyle]="{'background-color': !artigoForm.valid ? '#D3D3D3' : ''}">Salvar Alterações</button>
                                        <button class="form__submit" type="reset" (click)="removerFoto()" style="margin-left: 10px;">Limpar</button>
                                    </div>

                                    <div style="text-align: center; margin-top: 50px;">
                                        <a class="form__submit" href="javascript:history.back()">Voltar aos artigos</a>
                                    </div>
                                    
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- FORM END HERE-->
        </div>
    </section>
    <!-- section end-->
    
</main>